<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Exploratory Data Analysis (EDA) | Usefulness of R for managing data</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Exploratory Data Analysis (EDA) | Usefulness of R for managing data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Exploratory Data Analysis (EDA) | Usefulness of R for managing data" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Fábio A. Silva" />


<meta name="date" content="2023-02-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r---dealing-with-data.html"/>
<link rel="next" href="basic-statistical-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>2</b> Basic R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-r.html"><a href="basic-r.html#note"><i class="fa fa-check"></i><b>2.1</b> Note</a></li>
<li class="chapter" data-level="2.2" data-path="basic-r.html"><a href="basic-r.html#what-is-r-and-rstudio"><i class="fa fa-check"></i><b>2.2</b> What is R and RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="basic-r.html"><a href="basic-r.html#why-r"><i class="fa fa-check"></i><b>2.3</b> Why R?</a></li>
<li class="chapter" data-level="2.4" data-path="basic-r.html"><a href="basic-r.html#where-to-get-it-and-how-to-run-it"><i class="fa fa-check"></i><b>2.4</b> Where to get it and how to run it</a></li>
<li class="chapter" data-level="2.5" data-path="basic-r.html"><a href="basic-r.html#environment"><i class="fa fa-check"></i><b>2.5</b> Environment</a></li>
<li class="chapter" data-level="2.6" data-path="basic-r.html"><a href="basic-r.html#scripts-notebooks-and-rmarkdown-and-projects"><i class="fa fa-check"></i><b>2.6</b> Scripts, Notebooks and RMarkdown (and Projects)</a></li>
<li class="chapter" data-level="2.7" data-path="basic-r.html"><a href="basic-r.html#working-directories"><i class="fa fa-check"></i><b>2.7</b> Working directories</a></li>
<li class="chapter" data-level="2.8" data-path="basic-r.html"><a href="basic-r.html#operators"><i class="fa fa-check"></i><b>2.8</b> Operators</a></li>
<li class="chapter" data-level="2.9" data-path="basic-r.html"><a href="basic-r.html#classes-types-and-structures"><i class="fa fa-check"></i><b>2.9</b> Classes, Types and Structures</a></li>
<li class="chapter" data-level="2.10" data-path="basic-r.html"><a href="basic-r.html#comments"><i class="fa fa-check"></i><b>2.10</b> Comments</a></li>
<li class="chapter" data-level="2.11" data-path="basic-r.html"><a href="basic-r.html#objects"><i class="fa fa-check"></i><b>2.11</b> Objects</a></li>
<li class="chapter" data-level="2.12" data-path="basic-r.html"><a href="basic-r.html#combinations"><i class="fa fa-check"></i><b>2.12</b> Combinations</a></li>
<li class="chapter" data-level="2.13" data-path="basic-r.html"><a href="basic-r.html#subsetting"><i class="fa fa-check"></i><b>2.13</b> Subsetting</a></li>
<li class="chapter" data-level="2.14" data-path="basic-r.html"><a href="basic-r.html#ifs-and-elses"><i class="fa fa-check"></i><b>2.14</b> Ifs and elses</a></li>
<li class="chapter" data-level="2.15" data-path="basic-r.html"><a href="basic-r.html#loops"><i class="fa fa-check"></i><b>2.15</b> Loops</a></li>
<li class="chapter" data-level="2.16" data-path="basic-r.html"><a href="basic-r.html#functions"><i class="fa fa-check"></i><b>2.16</b> Functions</a></li>
<li class="chapter" data-level="2.17" data-path="basic-r.html"><a href="basic-r.html#packages"><i class="fa fa-check"></i><b>2.17</b> Packages</a></li>
<li class="chapter" data-level="2.18" data-path="basic-r.html"><a href="basic-r.html#shortcuts"><i class="fa fa-check"></i><b>2.18</b> Shortcuts</a></li>
<li class="chapter" data-level="2.19" data-path="basic-r.html"><a href="basic-r.html#chunk-settings"><i class="fa fa-check"></i><b>2.19</b> Chunk settings</a></li>
<li class="chapter" data-level="2.20" data-path="basic-r.html"><a href="basic-r.html#code-completion"><i class="fa fa-check"></i><b>2.20</b> Code completion</a></li>
<li class="chapter" data-level="2.21" data-path="basic-r.html"><a href="basic-r.html#other-useful-features"><i class="fa fa-check"></i><b>2.21</b> Other useful features</a></li>
<li class="chapter" data-level="2.22" data-path="basic-r.html"><a href="basic-r.html#getting-help"><i class="fa fa-check"></i><b>2.22</b> Getting help</a></li>
<li class="chapter" data-level="2.23" data-path="basic-r.html"><a href="basic-r.html#using-ai-to-help-you"><i class="fa fa-check"></i><b>2.23</b> Using AI to help you</a></li>
<li class="chapter" data-level="2.24" data-path="basic-r.html"><a href="basic-r.html#further-reading"><i class="fa fa-check"></i><b>2.24</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html"><i class="fa fa-check"></i><b>3</b> R - Dealing with data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#opening-files"><i class="fa fa-check"></i><b>3.1</b> Opening files</a></li>
<li class="chapter" data-level="3.2" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#opening-multiple-files"><i class="fa fa-check"></i><b>3.2</b> Opening multiple files</a></li>
<li class="chapter" data-level="3.3" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#merging"><i class="fa fa-check"></i><b>3.3</b> Merging</a></li>
<li class="chapter" data-level="3.4" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#exporting"><i class="fa fa-check"></i><b>3.4</b> Exporting</a></li>
<li class="chapter" data-level="3.5" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#special-cases-in-r"><i class="fa fa-check"></i><b>3.5</b> Special cases in R</a></li>
<li class="chapter" data-level="3.6" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#manipulating-the-data-in-dataframes"><i class="fa fa-check"></i><b>3.6</b> Manipulating the data in dataframes</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#subsetting-a-dataframe"><i class="fa fa-check"></i><b>3.6.1</b> Subsetting a dataframe</a></li>
<li class="chapter" data-level="3.6.2" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#columns"><i class="fa fa-check"></i><b>3.6.2</b> Columns</a></li>
<li class="chapter" data-level="3.6.3" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#rows"><i class="fa fa-check"></i><b>3.6.3</b> Rows</a></li>
<li class="chapter" data-level="3.6.4" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#tidyverse-pipes"><i class="fa fa-check"></i><b>3.6.4</b> Tidyverse &amp; Pipes</a></li>
<li class="chapter" data-level="3.6.5" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#filtering"><i class="fa fa-check"></i><b>3.6.5</b> Filtering</a></li>
<li class="chapter" data-level="3.6.6" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#arranging"><i class="fa fa-check"></i><b>3.6.6</b> Arranging</a></li>
<li class="chapter" data-level="3.6.7" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#selecting"><i class="fa fa-check"></i><b>3.6.7</b> Selecting</a></li>
<li class="chapter" data-level="3.6.8" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#mutating"><i class="fa fa-check"></i><b>3.6.8</b> Mutating</a></li>
<li class="chapter" data-level="3.6.9" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#ifelse"><i class="fa fa-check"></i><b>3.6.9</b> Ifelse</a></li>
<li class="chapter" data-level="3.6.10" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#grouping-and-summarizing"><i class="fa fa-check"></i><b>3.6.10</b> Grouping and Summarizing</a></li>
<li class="chapter" data-level="3.6.11" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#changing-format-widelong"><i class="fa fa-check"></i><b>3.6.11</b> Changing Format (Wide/Long)</a></li>
<li class="chapter" data-level="3.6.12" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#missing-values"><i class="fa fa-check"></i><b>3.6.12</b> Missing Values</a></li>
<li class="chapter" data-level="3.6.13" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#counts"><i class="fa fa-check"></i><b>3.6.13</b> Counts</a></li>
<li class="chapter" data-level="3.6.14" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#ungrouping"><i class="fa fa-check"></i><b>3.6.14</b> Ungrouping</a></li>
<li class="chapter" data-level="3.6.15" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#stringscharacters"><i class="fa fa-check"></i><b>3.6.15</b> Strings/Characters</a></li>
<li class="chapter" data-level="3.6.16" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#splits"><i class="fa fa-check"></i><b>3.6.16</b> Splits</a></li>
<li class="chapter" data-level="3.6.17" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#mapping"><i class="fa fa-check"></i><b>3.6.17</b> Mapping</a></li>
<li class="chapter" data-level="3.6.18" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#nesting"><i class="fa fa-check"></i><b>3.6.18</b> Nesting</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="r---dealing-with-data.html"><a href="r---dealing-with-data.html#end"><i class="fa fa-check"></i><b>3.7</b> End</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis (EDA)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#loading-data"><i class="fa fa-check"></i><b>4.1</b> Loading data</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#checking-data"><i class="fa fa-check"></i><b>4.2</b> Checking data</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#cleaning"><i class="fa fa-check"></i><b>4.3</b> Cleaning</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#cleaning-col.-names"><i class="fa fa-check"></i><b>4.3.1</b> Cleaning col. names</a></li>
<li class="chapter" data-level="4.3.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#date"><i class="fa fa-check"></i><b>4.3.2</b> Date</a></li>
<li class="chapter" data-level="4.3.3" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#cleaning-some-columns"><i class="fa fa-check"></i><b>4.3.3</b> Cleaning some columns</a></li>
<li class="chapter" data-level="4.3.4" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#dealing-with-na-values"><i class="fa fa-check"></i><b>4.3.4</b> Dealing with NA values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#summarising"><i class="fa fa-check"></i><b>4.4</b> Summarising</a></li>
<li class="chapter" data-level="4.5" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#plots"><i class="fa fa-check"></i><b>4.5</b> Plots</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#formula"><i class="fa fa-check"></i><b>4.5.1</b> Formula</a></li>
<li class="chapter" data-level="4.5.2" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#cols-and-bars"><i class="fa fa-check"></i><b>4.5.2</b> Cols and Bars</a></li>
<li class="chapter" data-level="4.5.3" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#boxplots"><i class="fa fa-check"></i><b>4.5.3</b> Boxplots</a></li>
<li class="chapter" data-level="4.5.4" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#density"><i class="fa fa-check"></i><b>4.5.4</b> Density</a></li>
<li class="chapter" data-level="4.5.5" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#facets"><i class="fa fa-check"></i><b>4.5.5</b> Facets</a></li>
<li class="chapter" data-level="4.5.6" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#coord-flip"><i class="fa fa-check"></i><b>4.5.6</b> Coord flip</a></li>
<li class="chapter" data-level="4.5.7" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#correlation-plots"><i class="fa fa-check"></i><b>4.5.7</b> Correlation plots</a></li>
<li class="chapter" data-level="4.5.8" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#multiplots"><i class="fa fa-check"></i><b>4.5.8</b> Multiplots</a></li>
<li class="chapter" data-level="4.5.9" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#date-1"><i class="fa fa-check"></i><b>4.5.9</b> Date</a></li>
<li class="chapter" data-level="4.5.10" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#ordering-factors"><i class="fa fa-check"></i><b>4.5.10</b> Ordering factors</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="exploratory-data-analysis-eda.html"><a href="exploratory-data-analysis-eda.html#end-1"><i class="fa fa-check"></i><b>4.6</b> End</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html"><i class="fa fa-check"></i><b>5</b> Basic Statistical Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#correlations"><i class="fa fa-check"></i><b>5.1</b> Correlations</a></li>
<li class="chapter" data-level="5.2" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#linear-regressions"><i class="fa fa-check"></i><b>5.2</b> Linear Regressions</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#t-tests"><i class="fa fa-check"></i><b>5.2.1</b> T-tests</a></li>
<li class="chapter" data-level="5.2.2" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#anovas"><i class="fa fa-check"></i><b>5.2.2</b> Anovas</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#generalized-linear-regression"><i class="fa fa-check"></i><b>5.3</b> Generalized Linear Regression</a></li>
<li class="chapter" data-level="5.4" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#linear-mixed-models"><i class="fa fa-check"></i><b>5.4</b> Linear Mixed Models</a></li>
<li class="chapter" data-level="5.5" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#generalized-linear-mixed-models"><i class="fa fa-check"></i><b>5.5</b> Generalized Linear Mixed Models</a></li>
<li class="chapter" data-level="5.6" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#bayesian-analysis"><i class="fa fa-check"></i><b>5.6</b> Bayesian analysis</a></li>
<li class="chapter" data-level="5.7" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#time-series"><i class="fa fa-check"></i><b>5.7</b> Time series</a></li>
<li class="chapter" data-level="5.8" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#drift-difussion-modelling"><i class="fa fa-check"></i><b>5.8</b> Drift difussion modelling</a></li>
<li class="chapter" data-level="5.9" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#survival-analysis"><i class="fa fa-check"></i><b>5.9</b> Survival analysis</a></li>
<li class="chapter" data-level="5.10" data-path="basic-statistical-analysis.html"><a href="basic-statistical-analysis.html#end-2"><i class="fa fa-check"></i><b>5.10</b> End</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Usefulness of R for managing data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory-data-analysis-eda" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Exploratory Data Analysis (EDA)<a href="exploratory-data-analysis-eda.html#exploratory-data-analysis-eda" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In Exploratory Data Analysis (EDA for short) we will want to explore our data.
We usually start by getting summaries and plots that broadly summarise how our data is structured.
We then proceed to more specific exploration of what variables interest us.
There is no right way of doing EDA, and everyone does EDA slightly different.
What matters in the end is that this part of your data analysis gives you a good glimpse about your data and potential targets to further explore and analyze.
And of course, this will be a good time to put your plotting skills to test, and with R, you can do pretty much anything… and, again, I truly mean anything.</p>
<p>What is the data we will be working with?
The data exemplified here comes from Dr. Kristen Gorman and the Palmer Station, Antarctica LTER, a member of the Long Term Ecological Research Network.
It contains information about 344 penguins, across 3 different species of penguins, collected from 3 islands in the Palmer Archipelago, Antarctica.</p>
<p><em>Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0. <a href="https://allisonhorst.github.io/palmerpenguins/" class="uri">https://allisonhorst.github.io/palmerpenguins/</a></em></p>
<p>Now lets look at the data We can either show the first rows (or last rows) to get a general view on what the columns are and what the values associated with each columns are, or we can View the entire dataframe.
Additionally we can also use several commands to provide us some more general info about the dataframe itself.</p>
<div id="loading-data" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Loading data<a href="exploratory-data-analysis-eda.html#loading-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="exploratory-data-analysis-eda.html#cb146-1" aria-hidden="true" tabindex="-1"></a>penguins_raw <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins_raw</span>
<span id="cb146-2"><a href="exploratory-data-analysis-eda.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_raw)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 17
##   study…¹ Sampl…² Species Region Island Stage Indiv…³ Clutc…⁴ `Date Egg` Culme…⁵
##   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;date&gt;       &lt;dbl&gt;
## 1 PAL0708       1 Adelie… Anvers Torge… Adul… N1A1    Yes     2007-11-11    39.1
## 2 PAL0708       2 Adelie… Anvers Torge… Adul… N1A2    Yes     2007-11-11    39.5
## 3 PAL0708       3 Adelie… Anvers Torge… Adul… N2A1    Yes     2007-11-16    40.3
## 4 PAL0708       4 Adelie… Anvers Torge… Adul… N2A2    Yes     2007-11-16    NA  
## 5 PAL0708       5 Adelie… Anvers Torge… Adul… N3A1    Yes     2007-11-16    36.7
## 6 PAL0708       6 Adelie… Anvers Torge… Adul… N3A2    Yes     2007-11-16    39.3
## # … with 7 more variables: `Culmen Depth (mm)` &lt;dbl&gt;,
## #   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;, and
## #   abbreviated variable names ¹​studyName, ²​`Sample Number`, ³​`Individual ID`,
## #   ⁴​`Clutch Completion`, ⁵​`Culmen Length (mm)`</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="exploratory-data-analysis-eda.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use tails() if you want to see the last rows</span></span></code></pre></div>
<p>The <code>str()</code> command gives us some detail into the class of each column of the data frame, its length, its values, among others.</p>
<p>P.s., <code>&lt;dbl&gt;</code> means a numerical value with decimal points.</p>
</div>
<div id="checking-data" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Checking data<a href="exploratory-data-analysis-eda.html#checking-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="exploratory-data-analysis-eda.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(penguins_raw)</span></code></pre></div>
<pre><code>## tibble [344 × 17] (S3: tbl_df/tbl/data.frame)
##  $ studyName          : chr [1:344] &quot;PAL0708&quot; &quot;PAL0708&quot; &quot;PAL0708&quot; &quot;PAL0708&quot; ...
##  $ Sample Number      : num [1:344] 1 2 3 4 5 6 7 8 9 10 ...
##  $ Species            : chr [1:344] &quot;Adelie Penguin (Pygoscelis adeliae)&quot; &quot;Adelie Penguin (Pygoscelis adeliae)&quot; &quot;Adelie Penguin (Pygoscelis adeliae)&quot; &quot;Adelie Penguin (Pygoscelis adeliae)&quot; ...
##  $ Region             : chr [1:344] &quot;Anvers&quot; &quot;Anvers&quot; &quot;Anvers&quot; &quot;Anvers&quot; ...
##  $ Island             : chr [1:344] &quot;Torgersen&quot; &quot;Torgersen&quot; &quot;Torgersen&quot; &quot;Torgersen&quot; ...
##  $ Stage              : chr [1:344] &quot;Adult, 1 Egg Stage&quot; &quot;Adult, 1 Egg Stage&quot; &quot;Adult, 1 Egg Stage&quot; &quot;Adult, 1 Egg Stage&quot; ...
##  $ Individual ID      : chr [1:344] &quot;N1A1&quot; &quot;N1A2&quot; &quot;N2A1&quot; &quot;N2A2&quot; ...
##  $ Clutch Completion  : chr [1:344] &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; ...
##  $ Date Egg           : Date[1:344], format: &quot;2007-11-11&quot; &quot;2007-11-11&quot; ...
##  $ Culmen Length (mm) : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
##  $ Culmen Depth (mm)  : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
##  $ Flipper Length (mm): num [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
##  $ Body Mass (g)      : num [1:344] 3750 3800 3250 NA 3450 ...
##  $ Sex                : chr [1:344] &quot;MALE&quot; &quot;FEMALE&quot; &quot;FEMALE&quot; NA ...
##  $ Delta 15 N (o/oo)  : num [1:344] NA 8.95 8.37 NA 8.77 ...
##  $ Delta 13 C (o/oo)  : num [1:344] NA -24.7 -25.3 NA -25.3 ...
##  $ Comments           : chr [1:344] &quot;Not enough blood for isotopes.&quot; NA NA &quot;Adult not sampled.&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   studyName = col_character(),
##   ..   `Sample Number` = col_double(),
##   ..   Species = col_character(),
##   ..   Region = col_character(),
##   ..   Island = col_character(),
##   ..   Stage = col_character(),
##   ..   `Individual ID` = col_character(),
##   ..   `Clutch Completion` = col_character(),
##   ..   `Date Egg` = col_date(format = &quot;&quot;),
##   ..   `Culmen Length (mm)` = col_double(),
##   ..   `Culmen Depth (mm)` = col_double(),
##   ..   `Flipper Length (mm)` = col_double(),
##   ..   `Body Mass (g)` = col_double(),
##   ..   Sex = col_character(),
##   ..   `Delta 15 N (o/oo)` = col_double(),
##   ..   `Delta 13 C (o/oo)` = col_double(),
##   ..   Comments = col_character()
##   .. )</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="exploratory-data-analysis-eda.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use glimpse() from the dplyr package</span></span>
<span id="cb151-2"><a href="exploratory-data-analysis-eda.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Or you can use the skim() function from the skimr package</span></span></code></pre></div>
<p>The <code>summary</code> command gives us a summary of each column, with, in case of numeric, the distribution parameters of those values, and in the case of categorical columns, the count of each value while also highlighting always the number of <code>NA</code> entries.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="exploratory-data-analysis-eda.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(penguins_raw)</span></code></pre></div>
<pre><code>##   studyName         Sample Number      Species             Region         
##  Length:344         Min.   :  1.00   Length:344         Length:344        
##  Class :character   1st Qu.: 29.00   Class :character   Class :character  
##  Mode  :character   Median : 58.00   Mode  :character   Mode  :character  
##                     Mean   : 63.15                                        
##                     3rd Qu.: 95.25                                        
##                     Max.   :152.00                                        
##                                                                           
##     Island             Stage           Individual ID      Clutch Completion 
##  Length:344         Length:344         Length:344         Length:344        
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##                                                                             
##     Date Egg          Culmen Length (mm) Culmen Depth (mm) Flipper Length (mm)
##  Min.   :2007-11-09   Min.   :32.10      Min.   :13.10     Min.   :172.0      
##  1st Qu.:2007-11-28   1st Qu.:39.23      1st Qu.:15.60     1st Qu.:190.0      
##  Median :2008-11-09   Median :44.45      Median :17.30     Median :197.0      
##  Mean   :2008-11-27   Mean   :43.92      Mean   :17.15     Mean   :200.9      
##  3rd Qu.:2009-11-16   3rd Qu.:48.50      3rd Qu.:18.70     3rd Qu.:213.0      
##  Max.   :2009-12-01   Max.   :59.60      Max.   :21.50     Max.   :231.0      
##                       NA&#39;s   :2          NA&#39;s   :2         NA&#39;s   :2          
##  Body Mass (g)      Sex            Delta 15 N (o/oo) Delta 13 C (o/oo)
##  Min.   :2700   Length:344         Min.   : 7.632    Min.   :-27.02   
##  1st Qu.:3550   Class :character   1st Qu.: 8.300    1st Qu.:-26.32   
##  Median :4050   Mode  :character   Median : 8.652    Median :-25.83   
##  Mean   :4202                      Mean   : 8.733    Mean   :-25.69   
##  3rd Qu.:4750                      3rd Qu.: 9.172    3rd Qu.:-25.06   
##  Max.   :6300                      Max.   :10.025    Max.   :-23.79   
##  NA&#39;s   :2                         NA&#39;s   :14        NA&#39;s   :13       
##    Comments        
##  Length:344        
##  Class :character  
##  Mode  :character  
##                    
##                    
##                    
## </code></pre>
<p>At this phase you should start assessing your data and will probably need to modify the dataframe a bit.
Most of the tools you need were already introduced in Chapter 2, but you will learn some new ones here along the way.
First though, lets get familiarized with the data by reading its description.</p>
<p>So a brief intro to this data.
This data measures structural size of adult male and female Adélie penguins (Pygoscelis adeliae) nesting along the Palmer Archipelago near Palmer Station.
It has 17 columns, namely:</p>
<p><strong>studyName</strong>: Sampling expedition from which data were collected, generated, etc.</p>
<p><strong>Sample Number</strong>: an integer denoting the continuous numbering sequence for each sample</p>
<p><strong>Species</strong>: a character string denoting the penguin species</p>
<p><strong>Region</strong>: a character string denoting the region of Palmer LTER sampling grid</p>
<p><strong>Island</strong>: a character string denoting the island near Palmer Station where samples were collected</p>
<p><strong>Stage</strong>: a character string denoting reproductive stage at sampling</p>
<p><strong>Individual ID</strong>: a character string denoting the unique ID for each individual in dataset</p>
<p><strong>Clutch Completion</strong>: a character string denoting if the study nest observed with a full clutch, i.e., 2 eggs</p>
<p><strong>Date Egg</strong>: a date denoting the date study nest observed with 1 egg (sampled)</p>
<p><strong>Culmen Length</strong>: a number denoting the length of the dorsal ridge of a bird’s bill (millimeters)</p>
<p><strong>Culmen Depth</strong>: a number denoting the depth of the dorsal ridge of a bird’s bill (millimeters)</p>
<p><strong>Flipper Length</strong>: an integer denoting the length penguin flipper (millimeters)</p>
<p><strong>Body Mass</strong>: an integer denoting the penguin body mass (grams)</p>
<p><strong>Sex</strong>: a character string denoting the sex of an animal</p>
<p><strong>Delta 15 N</strong>: a number denoting the measure of the ratio of stable isotopes 15N:14N</p>
<p><strong>Delta 13 C</strong>: a number denoting the measure of the ratio of stable isotopes 13C:12C</p>
<p><strong>Comments</strong>: a character string with text providing additional relevant information for data</p>
<p>There is also a subsetted (cleaner) version with just the species, island, size (flipper length, body mass, bill dimensions) and sex variables.
We will, however, work with the raw version and transform it ourselves making it cleaner and easier to explore and gather some initial insights about the data.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="exploratory-data-analysis-eda.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins_raw)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 17
##   study…¹ Sampl…² Species Region Island Stage Indiv…³ Clutc…⁴ `Date Egg` Culme…⁵
##   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;date&gt;       &lt;dbl&gt;
## 1 PAL0708       1 Adelie… Anvers Torge… Adul… N1A1    Yes     2007-11-11    39.1
## 2 PAL0708       2 Adelie… Anvers Torge… Adul… N1A2    Yes     2007-11-11    39.5
## 3 PAL0708       3 Adelie… Anvers Torge… Adul… N2A1    Yes     2007-11-16    40.3
## 4 PAL0708       4 Adelie… Anvers Torge… Adul… N2A2    Yes     2007-11-16    NA  
## 5 PAL0708       5 Adelie… Anvers Torge… Adul… N3A1    Yes     2007-11-16    36.7
## 6 PAL0708       6 Adelie… Anvers Torge… Adul… N3A2    Yes     2007-11-16    39.3
## # … with 7 more variables: `Culmen Depth (mm)` &lt;dbl&gt;,
## #   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;, and
## #   abbreviated variable names ¹​studyName, ²​`Sample Number`, ³​`Individual ID`,
## #   ⁴​`Clutch Completion`, ⁵​`Culmen Length (mm)`</code></pre>
</div>
<div id="cleaning" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Cleaning<a href="exploratory-data-analysis-eda.html#cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cleaning-col.-names" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Cleaning col. names<a href="exploratory-data-analysis-eda.html#cleaning-col.-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>So first off, we might want to clean the data.
One thing we often do is rename variables (in this case columns).
We can do so simply with the use of the <code>rename()</code> function from <code>dplyr</code>.<br />
<code>rename()</code>: changes the names of individual variables using new_name = old_name syntax.<br />
<code>rename_with()</code>: renames columns using a function.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="exploratory-data-analysis-eda.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets say I want to rename &quot;Individual ID&quot; to &quot;ID&quot;.</span></span>
<span id="cb156-2"><a href="exploratory-data-analysis-eda.html#cb156-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins_raw <span class="sc">%&gt;%</span> </span>
<span id="cb156-3"><a href="exploratory-data-analysis-eda.html#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&#39;ID&#39;</span> <span class="ot">=</span> <span class="st">&#39;Individual ID&#39;</span>)</span></code></pre></div>
<p>Now we might want to make every column, except ID, lower case, substitute spaces with “_” and remove “()”.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="exploratory-data-analysis-eda.html#cb157-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb157-2"><a href="exploratory-data-analysis-eda.html#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span>  <span class="co"># lower-case every column</span></span>
<span id="cb157-3"><a href="exploratory-data-analysis-eda.html#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(toupper, <span class="fu">starts_with</span>(<span class="st">&#39;ID&#39;</span>)) <span class="sc">%&gt;%</span> <span class="co"># up-case column starting with &quot;ID&quot;</span></span>
<span id="cb157-4"><a href="exploratory-data-analysis-eda.html#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;_&quot;</span>, .x))  <span class="sc">%&gt;%</span> <span class="co"># subs every space (&quot; &quot;) with no space (&quot;_&quot;)</span></span>
<span id="cb157-5"><a href="exploratory-data-analysis-eda.html#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">(&quot;</span>, <span class="st">&quot;&quot;</span>, .x)) <span class="sc">%&gt;%</span>  <span class="co">#removes every &quot;(&quot;</span></span>
<span id="cb157-6"><a href="exploratory-data-analysis-eda.html#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span>, <span class="st">&quot;&quot;</span>, .x))  <span class="sc">%&gt;%</span> <span class="co"># removes every &quot;)&quot;</span></span>
<span id="cb157-7"><a href="exploratory-data-analysis-eda.html#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;/&quot;</span> ,<span class="st">&quot;&quot;</span>, .x))  <span class="co"># removes /</span></span></code></pre></div>
<p>We could also skip a few things and be less specific, but instead use only the following function from the “janitor” package</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="exploratory-data-analysis-eda.html#cb158-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb158-2"><a href="exploratory-data-analysis-eda.html#cb158-2" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span></code></pre></div>
<pre><code>## # A tibble: 344 × 17
##    studyn…¹ sampl…² species region island stage id    clutc…³ date_egg   culme…⁴
##    &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;date&gt;       &lt;dbl&gt;
##  1 PAL0708        1 Adelie… Anvers Torge… Adul… N1A1  Yes     2007-11-11    39.1
##  2 PAL0708        2 Adelie… Anvers Torge… Adul… N1A2  Yes     2007-11-11    39.5
##  3 PAL0708        3 Adelie… Anvers Torge… Adul… N2A1  Yes     2007-11-16    40.3
##  4 PAL0708        4 Adelie… Anvers Torge… Adul… N2A2  Yes     2007-11-16    NA  
##  5 PAL0708        5 Adelie… Anvers Torge… Adul… N3A1  Yes     2007-11-16    36.7
##  6 PAL0708        6 Adelie… Anvers Torge… Adul… N3A2  Yes     2007-11-16    39.3
##  7 PAL0708        7 Adelie… Anvers Torge… Adul… N4A1  No      2007-11-15    38.9
##  8 PAL0708        8 Adelie… Anvers Torge… Adul… N4A2  No      2007-11-15    39.2
##  9 PAL0708        9 Adelie… Anvers Torge… Adul… N5A1  Yes     2007-11-09    34.1
## 10 PAL0708       10 Adelie… Anvers Torge… Adul… N5A2  Yes     2007-11-09    42  
## # … with 334 more rows, 7 more variables: culmen_depth_mm &lt;dbl&gt;,
## #   flipper_length_mm &lt;dbl&gt;, body_mass_g &lt;dbl&gt;, sex &lt;chr&gt;,
## #   delta_15_n_ooo &lt;dbl&gt;, delta_13_c_ooo &lt;dbl&gt;, comments &lt;chr&gt;, and abbreviated
## #   variable names ¹​studyname, ²​sample_number, ³​clutch_completion,
## #   ⁴​culmen_length_mm</code></pre>
</div>
<div id="date" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Date<a href="exploratory-data-analysis-eda.html#date" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One interesting and somewhat difficult (sometimes) parameter to adjust is turning a column that is often a character to a <code>date</code> format.
In this case is simple, but I give you some examples below for you to work your way through other types of transformations.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="exploratory-data-analysis-eda.html#cb160-1" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>date_egg <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(penguins<span class="sc">$</span>date_egg)</span></code></pre></div>
<p>Now here are other examples, aside from this data.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="exploratory-data-analysis-eda.html#cb161-1" aria-hidden="true" tabindex="-1"></a>characters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1jan1960&quot;</span>, <span class="st">&quot;2jan1960&quot;</span>, <span class="st">&quot;31mar1960&quot;</span>, <span class="st">&quot;30jul1960&quot;</span>)</span>
<span id="cb161-2"><a href="exploratory-data-analysis-eda.html#cb161-2" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(characters, <span class="st">&quot;%d%b%Y&quot;</span>)</span>
<span id="cb161-3"><a href="exploratory-data-analysis-eda.html#cb161-3" aria-hidden="true" tabindex="-1"></a>dates</span></code></pre></div>
<pre><code>## [1] &quot;1960-01-01&quot; &quot;1960-01-02&quot; &quot;1960-03-31&quot; &quot;1960-07-30&quot;</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="exploratory-data-analysis-eda.html#cb163-1" aria-hidden="true" tabindex="-1"></a>characters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;02/27/92&quot;</span>, <span class="st">&quot;02/27/92&quot;</span>, <span class="st">&quot;01/14/92&quot;</span>, <span class="st">&quot;02/28/92&quot;</span>, <span class="st">&quot;02/01/92&quot;</span>)</span>
<span id="cb163-2"><a href="exploratory-data-analysis-eda.html#cb163-2" aria-hidden="true" tabindex="-1"></a>dates <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(characters, <span class="st">&quot;%m/%d/%y&quot;</span>)</span>
<span id="cb163-3"><a href="exploratory-data-analysis-eda.html#cb163-3" aria-hidden="true" tabindex="-1"></a>dates</span></code></pre></div>
<pre><code>## [1] &quot;1992-02-27&quot; &quot;1992-02-27&quot; &quot;1992-01-14&quot; &quot;1992-02-28&quot; &quot;1992-02-01&quot;</code></pre>
<p>Check also these link for better examples.
<a href="https://www.r-bloggers.com/2013/08/date-formats-in-r/" class="uri">https://www.r-bloggers.com/2013/08/date-formats-in-r/</a></p>
</div>
<div id="cleaning-some-columns" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Cleaning some columns<a href="exploratory-data-analysis-eda.html#cleaning-some-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In particular, I want to remove the species latin name from the “species” column as well as the parenthesis.
Now this may seem simple, but messing with characters is one of those things that having an internet connection is key, since base commands, in my opinion, are not at all clear or simple.
The command below simple means replace the <code>species</code> column with a new one (with the same name), but in this one replace all the text that is between the parenthesis (including the parenthesis themselves) <code>" *\\(.*?\\) *"</code> and replace by nothing <code>""</code>.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="exploratory-data-analysis-eda.html#cb165-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb165-2"><a href="exploratory-data-analysis-eda.html#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">gsub</span>(<span class="st">&quot; *</span><span class="sc">\\</span><span class="st">(.*?</span><span class="sc">\\</span><span class="st">) *&quot;</span>, <span class="st">&quot;&quot;</span>, species))</span></code></pre></div>
<p>Another thing that jumps to sight is the “stage” column, which appears to be telling the same thing always.
Lets check.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="exploratory-data-analysis-eda.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(penguins<span class="sc">$</span>stage)</span></code></pre></div>
<pre><code>## 
## Adult, 1 Egg Stage 
##                344</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="exploratory-data-analysis-eda.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(penguins<span class="sc">$</span>stage)</span></code></pre></div>
<pre><code>## [1] &quot;Adult, 1 Egg Stage&quot;</code></pre>
<p>Since its all the same, I can choose to remove it.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="exploratory-data-analysis-eda.html#cb170-1" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>stage <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
</div>
<div id="dealing-with-na-values" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Dealing with NA values<a href="exploratory-data-analysis-eda.html#dealing-with-na-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now lets deal with NA values.
First lets quickly identify which columns have NA values, and how many of them each one has.
We could just look at the <code>summary(penguins)</code>, or we could do this with other base R commands, like so:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="exploratory-data-analysis-eda.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(penguins, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span></code></pre></div>
<pre><code>##         studyname     sample_number           species            region 
##                 0                 0                 0                 0 
##            island                ID clutch_completion          date_egg 
##                 0                 0                 0                 0 
##  culmen_length_mm   culmen_depth_mm flipper_length_mm       body_mass_g 
##                 2                 2                 2                 2 
##               sex    delta_15_n_ooo    delta_13_c_ooo          comments 
##                11                14                13               290</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="exploratory-data-analysis-eda.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(<span class="fu">is.na</span>(penguins), <span class="dv">2</span>, sum)</span></code></pre></div>
<pre><code>##         studyname     sample_number           species            region 
##                 0                 0                 0                 0 
##            island                ID clutch_completion          date_egg 
##                 0                 0                 0                 0 
##  culmen_length_mm   culmen_depth_mm flipper_length_mm       body_mass_g 
##                 2                 2                 2                 2 
##               sex    delta_15_n_ooo    delta_13_c_ooo          comments 
##                11                14                13               290</code></pre>
<p>Note: Go to <a href="https://www.guru99.com/r-apply-sapply-tapply.html" class="uri">https://www.guru99.com/r-apply-sapply-tapply.html</a> to better understand “apply” and other functions.</p>
<p>Or we can do something more elegant and use some packages that show us, with graphics, where our NAs are.
Here are a few examples that I took from a quick google search:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="exploratory-data-analysis-eda.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative 1</span></span>
<span id="cb175-2"><a href="exploratory-data-analysis-eda.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span></code></pre></div>
<pre><code>## Warning: package &#39;naniar&#39; was built under R version 4.2.2</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="exploratory-data-analysis-eda.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(UpSetR)</span></code></pre></div>
<pre><code>## Warning: package &#39;UpSetR&#39; was built under R version 4.2.2</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="exploratory-data-analysis-eda.html#cb179-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb179-2"><a href="exploratory-data-analysis-eda.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_shadow_upset</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb179-3"><a href="exploratory-data-analysis-eda.html#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">upset</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="exploratory-data-analysis-eda.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative n2</span></span>
<span id="cb180-2"><a href="exploratory-data-analysis-eda.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visdat)</span></code></pre></div>
<pre><code>## Warning: package &#39;visdat&#39; was built under R version 4.2.2</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="exploratory-data-analysis-eda.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(penguins)</span></code></pre></div>
<pre><code>## Warning: `gather_()` was deprecated in tidyr 1.2.0.
## ℹ Please use `gather()` instead.
## ℹ The deprecated feature was likely used in the visdat package.
##   Please report the issue at &lt;https://github.com/ropensci/visdat/issues&gt;.</code></pre>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-85-2.png" width="672" /></p>
<p>Now, we need to decide what to do with these NA values.
We can see below that two penguins have data missing from their base features (e.g., culmen_lenght and body_mass).
Also, a few of them don’t have information regarding sex.
Since these are critical features, I’m gonna go ahead and eliminate these entries.
We can do so by several ways, but below you have two examples on how to eliminate NA values.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="exploratory-data-analysis-eda.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 1</span></span>
<span id="cb184-2"><a href="exploratory-data-analysis-eda.html#cb184-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb184-3"><a href="exploratory-data-analysis-eda.html#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(culmen_length_mm),  <span class="co"># show only rows that are not NA in the culmen_length_mm column</span></span>
<span id="cb184-4"><a href="exploratory-data-analysis-eda.html#cb184-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">is.na</span>(sex)) <span class="co"># show only rows that are not NA in the sex column</span></span>
<span id="cb184-5"><a href="exploratory-data-analysis-eda.html#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="exploratory-data-analysis-eda.html#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 2</span></span>
<span id="cb184-7"><a href="exploratory-data-analysis-eda.html#cb184-7" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb184-8"><a href="exploratory-data-analysis-eda.html#cb184-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(culmen_length_mm, sex)</span></code></pre></div>
<p>Now for some final touches, I will transform the body mass column’s units from grams to kilograms.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="exploratory-data-analysis-eda.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Converting body_mass from grams to kg</span></span>
<span id="cb185-2"><a href="exploratory-data-analysis-eda.html#cb185-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb185-3"><a href="exploratory-data-analysis-eda.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb185-4"><a href="exploratory-data-analysis-eda.html#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_g =</span> <span class="cn">NULL</span>)  <span class="co"># removing old column</span></span></code></pre></div>
<p>To finish this data cleaning, its important to point out that we could have just done everything in one go, as exemplified below.
Although as you can see, when dealing with too many things, its usually best to separate adjustments per chunks.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="exploratory-data-analysis-eda.html#cb186-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> penguins_raw <span class="sc">%&gt;%</span></span>
<span id="cb186-2"><a href="exploratory-data-analysis-eda.html#cb186-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&#39;ID&#39;</span> <span class="ot">=</span> <span class="st">&#39;Individual ID&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb186-3"><a href="exploratory-data-analysis-eda.html#cb186-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(tolower) <span class="sc">%&gt;%</span>  <span class="co"># lower-case every column</span></span>
<span id="cb186-4"><a href="exploratory-data-analysis-eda.html#cb186-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(toupper, <span class="fu">starts_with</span>(<span class="st">&#39;ID&#39;</span>)) <span class="sc">%&gt;%</span> <span class="co"># up-case column starting with &quot;ID&quot;</span></span>
<span id="cb186-5"><a href="exploratory-data-analysis-eda.html#cb186-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;_&quot;</span>, .x))  <span class="sc">%&gt;%</span> <span class="co"># subs every space (&quot; &quot;) with no space (&quot;_&quot;)</span></span>
<span id="cb186-6"><a href="exploratory-data-analysis-eda.html#cb186-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">(&quot;</span>, <span class="st">&quot;&quot;</span>, .x)) <span class="sc">%&gt;%</span>  <span class="co">#removes every &quot;(&quot;</span></span>
<span id="cb186-7"><a href="exploratory-data-analysis-eda.html#cb186-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">)&quot;</span>, <span class="st">&quot;&quot;</span>, .x))  <span class="sc">%&gt;%</span> <span class="co"># removes every &quot;)&quot;</span></span>
<span id="cb186-8"><a href="exploratory-data-analysis-eda.html#cb186-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">&quot;/&quot;</span> ,<span class="st">&quot;&quot;</span>, .x)) <span class="sc">%&gt;%</span> <span class="co"># removes /</span></span>
<span id="cb186-9"><a href="exploratory-data-analysis-eda.html#cb186-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_egg =</span> <span class="fu">as.Date</span>(date_egg)) <span class="sc">%&gt;%</span>  <span class="co"># turns the column to data format</span></span>
<span id="cb186-10"><a href="exploratory-data-analysis-eda.html#cb186-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">gsub</span>(<span class="st">&quot; *</span><span class="sc">\\</span><span class="st">(.*?</span><span class="sc">\\</span><span class="st">) *&quot;</span>, <span class="st">&quot;&quot;</span>, species)) <span class="sc">%&gt;%</span> <span class="co"># removes text between parenthesis in species</span></span>
<span id="cb186-11"><a href="exploratory-data-analysis-eda.html#cb186-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stage =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span>  <span class="co"># removes stage column</span></span>
<span id="cb186-12"><a href="exploratory-data-analysis-eda.html#cb186-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(culmen_length_mm), <span class="sc">!</span><span class="fu">is.na</span>(sex)) <span class="sc">%&gt;%</span>   <span class="co"># removes NA rows from these 2 columns</span></span>
<span id="cb186-13"><a href="exploratory-data-analysis-eda.html#cb186-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span>   <span class="co"># transforms body_mass_g column to kilograms</span></span>
<span id="cb186-14"><a href="exploratory-data-analysis-eda.html#cb186-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_g =</span> <span class="cn">NULL</span>)</span></code></pre></div>
</div>
</div>
<div id="summarising" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Summarising<a href="exploratory-data-analysis-eda.html#summarising" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we start drawing graphs left and right, its important to also explore the data with data summaries (in text format).
As mentioned, from my perspective, EDA isn’t an exact science, in a sense that there is no appropriate set of measures to explore.
Knowing what to do comes from both a) knowing your data, b) what your objectives are and c) experience.
Below I’m going to try to cover some aspects of EDA (first in text than with plots) that I would do when analysing this data.
Lets start…</p>
<p>So, how many observations per specie are there in the data?</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="exploratory-data-analysis-eda.html#cb187-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb187-2"><a href="exploratory-data-analysis-eda.html#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   species               n
##   &lt;chr&gt;             &lt;int&gt;
## 1 Adelie Penguin      146
## 2 Chinstrap penguin    68
## 3 Gentoo penguin      119</code></pre>
<p>Alternatively, we can use the functions <code>tabyl()</code> and <code>adorn_totals()</code> from the janitor package and create a more elaborate summary with percentages and totals.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="exploratory-data-analysis-eda.html#cb189-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb189-2"><a href="exploratory-data-analysis-eda.html#cb189-2" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">tabyl</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb189-3"><a href="exploratory-data-analysis-eda.html#cb189-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">adorn_totals</span>()</span></code></pre></div>
<pre><code>##            species   n   percent
##     Adelie Penguin 146 0.4384384
##  Chinstrap penguin  68 0.2042042
##     Gentoo penguin 119 0.3573574
##              Total 333 1.0000000</code></pre>
<p>Alright, now lets say we want to know how they are distributed across islands</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="exploratory-data-analysis-eda.html#cb191-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb191-2"><a href="exploratory-data-analysis-eda.html#cb191-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(island) <span class="sc">%&gt;%</span> </span>
<span id="cb191-3"><a href="exploratory-data-analysis-eda.html#cb191-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
## # Groups:   island [3]
##   island    species               n
##   &lt;chr&gt;     &lt;chr&gt;             &lt;int&gt;
## 1 Biscoe    Adelie Penguin       44
## 2 Biscoe    Gentoo penguin      119
## 3 Dream     Adelie Penguin       55
## 4 Dream     Chinstrap penguin    68
## 5 Torgersen Adelie Penguin       47</code></pre>
<p>What seem to be the main problems presented in the observation column?</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="exploratory-data-analysis-eda.html#cb193-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb193-2"><a href="exploratory-data-analysis-eda.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(comments)) <span class="sc">%&gt;%</span> </span>
<span id="cb193-3"><a href="exploratory-data-analysis-eda.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(comments)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   comments                                                                 n
##   &lt;chr&gt;                                                                &lt;int&gt;
## 1 Nest never observed with full clutch.                                   34
## 2 Nest never observed with full clutch. Not enough blood for isotopes.     1
## 3 No delta15N data received from lab.                                      1
## 4 Not enough blood for isotopes.                                           7</code></pre>
<p>Since we spotted that some comments only appear very often we could quickly do some data cleaning again.
Namely we might wanna combine certain levels of a factor or characters that are less represented (compared to other levels) together, instead of representing each. In this case we would combine less represented types of comments into a single label (e.g., “OtherProblems”).
For that we could use <code>fct_lump()</code>.
This function “lumps” (joins) together factors or characters with little representation.
We just need to say which column we want to use this on, and we can define other parameters of interest.
These are:</p>
<ul>
<li><p><strong>n</strong>: (specifying which of the most common to preserve, default being 1).
If I say <code>n = 2</code> only the two most common comments will be preserved, with the rest being labeled as “OtherProblems”.</p></li>
<li><p><strong>p</strong>: Alternative to “n” in which we can specify to preserve only the levels/characters which have at least a proportion of x.
Again, if we said p = 0.2, only the comments which are represented in 20% of the data would be kept.</p></li>
<li><p><strong>other_level</strong>: Here you set the name attributed to the lumped factors.
In this case we say “OtherProblems”.</p></li>
</ul>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="exploratory-data-analysis-eda.html#cb195-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb195-2"><a href="exploratory-data-analysis-eda.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">comments2 =</span> <span class="fu">fct_lump</span>(<span class="at">f=</span>comments, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">other_level =</span> <span class="st">&#39;OtherProblems&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb195-3"><a href="exploratory-data-analysis-eda.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 17
##   study…¹ sampl…² species region island ID    clutc…³ date_egg   culme…⁴ culme…⁵
##   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;date&gt;       &lt;dbl&gt;   &lt;dbl&gt;
## 1 PAL0708       1 Adelie… Anvers Torge… N1A1  Yes     2007-11-11    39.1    18.7
## 2 PAL0708       2 Adelie… Anvers Torge… N1A2  Yes     2007-11-11    39.5    17.4
## 3 PAL0708       3 Adelie… Anvers Torge… N2A1  Yes     2007-11-16    40.3    18  
## 4 PAL0708       5 Adelie… Anvers Torge… N3A1  Yes     2007-11-16    36.7    19.3
## 5 PAL0708       6 Adelie… Anvers Torge… N3A2  Yes     2007-11-16    39.3    20.6
## 6 PAL0708       7 Adelie… Anvers Torge… N4A1  No      2007-11-15    38.9    17.8
## # … with 7 more variables: flipper_length_mm &lt;dbl&gt;, sex &lt;chr&gt;,
## #   delta_15_n_ooo &lt;dbl&gt;, delta_13_c_ooo &lt;dbl&gt;, comments &lt;chr&gt;,
## #   body_mass &lt;dbl&gt;, comments2 &lt;fct&gt;, and abbreviated variable names
## #   ¹​studyname, ²​sample_number, ³​clutch_completion, ⁴​culmen_length_mm,
## #   ⁵​culmen_depth_mm</code></pre>
<p>Anyway, back to exploring the data…
Now lets ask the mean for each specie <code>across</code> all columns in the dataframe, <code>where</code> the values are numeric.
We can do this, by simply grouping the data by species, that using the command below.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="exploratory-data-analysis-eda.html#cb197-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb197-2"><a href="exploratory-data-analysis-eda.html#cb197-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb197-3"><a href="exploratory-data-analysis-eda.html#cb197-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb197-4"><a href="exploratory-data-analysis-eda.html#cb197-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 3 × 8
##   species           sample_num…¹ culme…² culme…³ flipp…⁴ delta…⁵ delta…⁶ body_…⁷
##   &lt;chr&gt;                    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 Adelie Penguin            79      38.8    18.3    190.    8.86   -25.8    3.71
## 2 Chinstrap penguin         34.5    48.8    18.4    196.    9.36   -24.5    3.73
## 3 Gentoo penguin            61.5    47.6    15.0    217.    8.25   -26.2    5.09
## # … with abbreviated variable names ¹​sample_number, ²​culmen_length_mm,
## #   ³​culmen_depth_mm, ⁴​flipper_length_mm, ⁵​delta_15_n_ooo, ⁶​delta_13_c_ooo,
## #   ⁷​body_mass</code></pre>
</div>
<div id="plots" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Plots<a href="exploratory-data-analysis-eda.html#plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="formula" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Formula<a href="exploratory-data-analysis-eda.html#formula" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://r-graph-gallery.com/" class="uri">https://r-graph-gallery.com/</a> R has a natural plot language, but its quite “primitive” and complicated.
It is adequate if you want really quick plots with minimal customization.
Otherwise I would recommend using <code>ggplot2</code>.</p>
<p><code>ggplot2</code> uses a distinct grammar for expression plots.
It may seem complicated at first, but its actually quite simple.
So every plot must start with a simple command:</p>
<p><code>ggplot("dataframe", aes("data"))</code></p>
<p>In the first parameter you just tell the command which dataframe to use.
Assuming your dataframe is labeled as “df” you can just the following:</p>
<p><code>ggplot(df, aes("data"))</code></p>
<p>or</p>
<p><code>df %&gt;% ggplot(aes("data"))</code></p>
<p>The next thing we need to do is specify which variables and measures we want to add to the plot.
This is done inside the <code>aes()</code> command.
You can add the obvious x and y info, and you can also add group related info, which can be coded as “color”, “fill” or “shape”.
Here’s a few generic examples:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="exploratory-data-analysis-eda.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> height))</span>
<span id="cb199-2"><a href="exploratory-data-analysis-eda.html#cb199-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-3"><a href="exploratory-data-analysis-eda.html#cb199-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> education_level, <span class="at">y =</span> average_grade))</span>
<span id="cb199-4"><a href="exploratory-data-analysis-eda.html#cb199-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-5"><a href="exploratory-data-analysis-eda.html#cb199-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> height, <span class="at">color =</span> sex))</span>
<span id="cb199-6"><a href="exploratory-data-analysis-eda.html#cb199-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-7"><a href="exploratory-data-analysis-eda.html#cb199-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> average_reading_time,</span>
<span id="cb199-8"><a href="exploratory-data-analysis-eda.html#cb199-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> sex, <span class="at">shape =</span> genre))</span></code></pre></div>
<p>After this is specified, you just need to add layers of what you want.
By adding, I mean inserting a <code>+</code> and specifying the layers you want.
Do you want points?
Bars?
Lines?
Circles?
Whatever you want, you’ll add each as a layer with <code>geom_something()</code>, with the something corresponding to what you want.
<code>ggplot2</code> has plenty of geoms, and I’ll be showing you a few below.
If you want to see what the rest can do, visit: <a href="https://ggplot2.tidyverse.org/reference/" class="uri">https://ggplot2.tidyverse.org/reference/</a></p>
<p>So your general plot code for a simple bar plot should look something like:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="exploratory-data-analysis-eda.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dataframe, <span class="fu">aes</span>(<span class="at">x =</span> variable, <span class="at">y =</span> variable2)) <span class="sc">+</span></span>
<span id="cb200-2"><a href="exploratory-data-analysis-eda.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() </span></code></pre></div>
<p>Lastly, you might want to specify other little details, such as the labels, the theme, the color scheme, etc.
You can specify hundreds of things.
I’m just gonna leave you the commands I use the most and I think will be most useful to you.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="exploratory-data-analysis-eda.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying the labels</span></span>
<span id="cb201-2"><a href="exploratory-data-analysis-eda.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;x-axis label&#39;</span>, <span class="at">y =</span> <span class="st">&#39;y-axis label&#39;</span>, <span class="at">title =</span> <span class="st">&#39;title text&#39;</span>, <span class="at">color =</span> <span class="st">&#39;color label text&#39;</span>)</span>
<span id="cb201-3"><a href="exploratory-data-analysis-eda.html#cb201-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-4"><a href="exploratory-data-analysis-eda.html#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying the lower and upper bounds of the axis</span></span>
<span id="cb201-5"><a href="exploratory-data-analysis-eda.html#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="st">&#39;lower_y_limit&#39;</span>, <span class="st">&#39;upper_y_limit&#39;</span>),</span>
<span id="cb201-6"><a href="exploratory-data-analysis-eda.html#cb201-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">xlim =</span> <span class="fu">c</span>(<span class="st">&#39;lower_x_limit&#39;</span>, <span class="st">&#39;upper_y_limit&#39;</span>))</span>
<span id="cb201-7"><a href="exploratory-data-analysis-eda.html#cb201-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-8"><a href="exploratory-data-analysis-eda.html#cb201-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting the graphs creating several based on a grouping variable</span></span>
<span id="cb201-9"><a href="exploratory-data-analysis-eda.html#cb201-9" aria-hidden="true" tabindex="-1"></a><span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="st">&#39;grouping_variable&#39;</span>)</span>
<span id="cb201-10"><a href="exploratory-data-analysis-eda.html#cb201-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-11"><a href="exploratory-data-analysis-eda.html#cb201-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Themes (just some examples)</span></span>
<span id="cb201-12"><a href="exploratory-data-analysis-eda.html#cb201-12" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_classic</span>()</span>
<span id="cb201-13"><a href="exploratory-data-analysis-eda.html#cb201-13" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_light</span>()</span>
<span id="cb201-14"><a href="exploratory-data-analysis-eda.html#cb201-14" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_gray</span>()</span></code></pre></div>
<p>If you want to save your plots you can do so either by clicking in the “Export” button on your Plots separator or you can use the function <code>ggsave()</code>.</p>
<p>Well this should give you a general idea on how plots work.
For more info, visit: <a href="http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html" class="uri">http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html</a></p>
<p>On to some examples with our data.</p>
<p>Note: I purposely leave some additional parameters inside each plot building code, not to confuse you, but to introduce you more ways to tweak your plot.
I encourage you to mess with them.</p>
</div>
<div id="cols-and-bars" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Cols and Bars<a href="exploratory-data-analysis-eda.html#cols-and-bars" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The bar plot is one of the most common ones.
R has two types of “bar” plots.</p>
<ul>
<li><p><code>geom_bar</code>: Creates proportional count of entries (same as <code>count</code> but in a plot).
Only requires one variable.</p></li>
<li><p><code>geom_col</code>: Creates a more typical bar plot, where the height represents values/statistics of the data,</p></li>
</ul>
<p>Here’s an example usage of <code>geom_bar</code></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="exploratory-data-analysis-eda.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count</span></span>
<span id="cb202-2"><a href="exploratory-data-analysis-eda.html#cb202-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb202-3"><a href="exploratory-data-analysis-eda.html#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   species               n
##   &lt;chr&gt;             &lt;int&gt;
## 1 Adelie Penguin      146
## 2 Chinstrap penguin    68
## 3 Gentoo penguin      119</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="exploratory-data-analysis-eda.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geom bar (count as a plot)</span></span>
<span id="cb204-2"><a href="exploratory-data-analysis-eda.html#cb204-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb204-3"><a href="exploratory-data-analysis-eda.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species)) <span class="sc">+</span></span>
<span id="cb204-4"><a href="exploratory-data-analysis-eda.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&#39;darkgreen&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">width =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb204-5"><a href="exploratory-data-analysis-eda.html#cb204-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-98-1.png" width="672" /></p>
<p>Now regarding <code>geom_col</code> and the more typical use of showing means.
You have two ways of doing it, either:</p>
<ol style="list-style-type: decimal">
<li><p>you compute the means and build the plot with <code>geom_col()</code></p></li>
<li><p>you use the <code>stat_summary()</code> function to compute the mean inside the ggplot and specify that you want the “col” geom (or “bar” geom).</p></li>
</ol>
<p>I usually just use <code>stat_summary()</code>, instead of pre-computing the means, because its faster and this allows me to add another function with <code>stat_summary()</code> that can also compute things like error bars.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="exploratory-data-analysis-eda.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. </span></span>
<span id="cb205-2"><a href="exploratory-data-analysis-eda.html#cb205-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb205-3"><a href="exploratory-data-analysis-eda.html#cb205-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb205-4"><a href="exploratory-data-analysis-eda.html#cb205-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">body_mass =</span> <span class="fu">mean</span>(body_mass)) <span class="sc">%&gt;%</span> </span>
<span id="cb205-5"><a href="exploratory-data-analysis-eda.html#cb205-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, body_mass, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb205-6"><a href="exploratory-data-analysis-eda.html#cb205-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">9</span>), <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb205-7"><a href="exploratory-data-analysis-eda.html#cb205-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6</span>)) <span class="sc">+</span> </span>
<span id="cb205-8"><a href="exploratory-data-analysis-eda.html#cb205-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb205-9"><a href="exploratory-data-analysis-eda.html#cb205-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Plot with Means: Method 1&#39;</span>)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;species&#39;. You can override using the
## `.groups` argument.</code></pre>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-99-1.png" width="672" /></p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="exploratory-data-analysis-eda.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2.</span></span>
<span id="cb207-2"><a href="exploratory-data-analysis-eda.html#cb207-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb207-3"><a href="exploratory-data-analysis-eda.html#cb207-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, body_mass, <span class="at">fill =</span> sex)) <span class="sc">+</span></span>
<span id="cb207-4"><a href="exploratory-data-analysis-eda.html#cb207-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&#39;col&#39;</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">9</span>), </span>
<span id="cb207-5"><a href="exploratory-data-analysis-eda.html#cb207-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb207-6"><a href="exploratory-data-analysis-eda.html#cb207-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb207-7"><a href="exploratory-data-analysis-eda.html#cb207-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb207-8"><a href="exploratory-data-analysis-eda.html#cb207-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Plot with Means: Method 2&#39;</span>)</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-99-2.png" width="672" /></p>
</div>
<div id="boxplots" class="section level3 hasAnchor" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Boxplots<a href="exploratory-data-analysis-eda.html#boxplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boxplots are a really cool way of showing you how your data is distributed across each category.
Its particularly important when you have skewed data, or are just simply more interested in the median (as opposed to the mean).
Below I introduce you the standard box plot, while also showing you other layers that can both appear on their own or can complement the boxplot geom, namely <code>geom_jitter()</code> and <code>geom_violin()</code>.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="exploratory-data-analysis-eda.html#cb208-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb208-2"><a href="exploratory-data-analysis-eda.html#cb208-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(delta_15_n_ooo)) <span class="sc">%&gt;%</span>  <span class="co"># remove NAs in the column to prevent warnings</span></span>
<span id="cb208-3"><a href="exploratory-data-analysis-eda.html#cb208-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> delta_15_n_ooo, <span class="at">fill =</span> species)) <span class="sc">+</span> </span>
<span id="cb208-4"><a href="exploratory-data-analysis-eda.html#cb208-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb208-5"><a href="exploratory-data-analysis-eda.html#cb208-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb208-6"><a href="exploratory-data-analysis-eda.html#cb208-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">25</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span>  <span class="co"># the alpha parameter models transparency (ranges from 0 to 1)</span></span>
<span id="cb208-7"><a href="exploratory-data-analysis-eda.html#cb208-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
</div>
<div id="density" class="section level3 hasAnchor" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Density<a href="exploratory-data-analysis-eda.html#density" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Density plots are great and provide a simple way for you to measure distribution of a variable’s values.
You just need to point out the variable name, in this case we will look at “body_mass”, and we will additionally want the distributions separated by “species”.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="exploratory-data-analysis-eda.html#cb209-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb209-2"><a href="exploratory-data-analysis-eda.html#cb209-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass, <span class="at">fill =</span> species)) <span class="sc">+</span> </span>
<span id="cb209-3"><a href="exploratory-data-analysis-eda.html#cb209-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb209-4"><a href="exploratory-data-analysis-eda.html#cb209-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb209-5"><a href="exploratory-data-analysis-eda.html#cb209-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Body mass (kg)&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Density&#39;</span>,</span>
<span id="cb209-6"><a href="exploratory-data-analysis-eda.html#cb209-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&#39;Species&#39;</span>, </span>
<span id="cb209-7"><a href="exploratory-data-analysis-eda.html#cb209-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&#39;Body mass distributions across Species&#39;</span>) <span class="sc">+</span></span>
<span id="cb209-8"><a href="exploratory-data-analysis-eda.html#cb209-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-101-1.png" width="672" /></p>
</div>
<div id="facets" class="section level3 hasAnchor" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> Facets<a href="exploratory-data-analysis-eda.html#facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>facet_wrap</code> is quite useful if you want to compare two plots across 2 (or more) variables.
It divides the data across the variable you name and creates two distinct plots.
You just need to specify the variable, which in this case in done so with <code>~name_of_the_variable</code>.
Importantly, if you want the scales (y-limits and x-limits) to be adjusted for each variable’s info, you need to specify this using <code>scales = 'free'</code> if every scale (x and y) can vary between facets, or <code>scales = 'free_x'</code> and <code>scales = 'free_y'</code>, if you just want the x or y scales to vary freely, respetively.
In this case since we want to compare them directly, I think its best if they are fixed (the default behavior of the function), so you get a better picture as to how different they really are.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="exploratory-data-analysis-eda.html#cb210-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb210-2"><a href="exploratory-data-analysis-eda.html#cb210-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass, <span class="at">fill =</span> species)) <span class="sc">+</span> </span>
<span id="cb210-3"><a href="exploratory-data-analysis-eda.html#cb210-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb210-4"><a href="exploratory-data-analysis-eda.html#cb210-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb210-5"><a href="exploratory-data-analysis-eda.html#cb210-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Body mass (g)&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Density&#39;</span>,</span>
<span id="cb210-6"><a href="exploratory-data-analysis-eda.html#cb210-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&#39;Species&#39;</span>, </span>
<span id="cb210-7"><a href="exploratory-data-analysis-eda.html#cb210-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&#39;Body mass distributions across Species&#39;</span>) <span class="sc">+</span></span>
<span id="cb210-8"><a href="exploratory-data-analysis-eda.html#cb210-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>) <span class="sc">+</span></span>
<span id="cb210-9"><a href="exploratory-data-analysis-eda.html#cb210-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex, <span class="at">scales =</span> <span class="st">&#39;fixed&#39;</span>)</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
</div>
<div id="coord-flip" class="section level3 hasAnchor" number="4.5.6">
<h3><span class="header-section-number">4.5.6</span> Coord flip<a href="exploratory-data-analysis-eda.html#coord-flip" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For some plots, it might also be interesting (either more aesthetically pleasing or just a necessity given space limitations) to “flip the coordinates”.
You can do so, by using the command <code>coord_flip()</code>.
Here’s an example.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="exploratory-data-analysis-eda.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb211-2"><a href="exploratory-data-analysis-eda.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb211-3"><a href="exploratory-data-analysis-eda.html#cb211-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;darkorange&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;cyan4&quot;</span>)) <span class="sc">+</span></span>
<span id="cb211-4"><a href="exploratory-data-analysis-eda.html#cb211-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb211-5"><a href="exploratory-data-analysis-eda.html#cb211-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>species, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb211-6"><a href="exploratory-data-analysis-eda.html#cb211-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
</div>
<div id="correlation-plots" class="section level3 hasAnchor" number="4.5.7">
<h3><span class="header-section-number">4.5.7</span> Correlation plots<a href="exploratory-data-analysis-eda.html#correlation-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another particularly useful feature that is usually (initially) explored with plots is correlations.
So lets say we want to get a general idea about correlations between a set of variables in the dataframe.
Here’s a way to do it:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="exploratory-data-analysis-eda.html#cb212-1" aria-hidden="true" tabindex="-1"></a>correlations <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb212-2"><a href="exploratory-data-analysis-eda.html#cb212-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">&#39;culmen_length_mm&#39;</span>, <span class="st">&#39;culmen_depth_mm&#39;</span>, <span class="st">&#39;flipper_length_mm&#39;</span>, <span class="st">&#39;body_mass&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb212-3"><a href="exploratory-data-analysis-eda.html#cb212-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>()</span>
<span id="cb212-4"><a href="exploratory-data-analysis-eda.html#cb212-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-5"><a href="exploratory-data-analysis-eda.html#cb212-5" aria-hidden="true" tabindex="-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot</span>(correlations, <span class="at">method =</span> <span class="st">&#39;number&#39;</span>)</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
<p>We can additionally separate this correlations by specie.
For that we can use the function <code>ggpairs()</code> from the <code>GGally</code> package.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="exploratory-data-analysis-eda.html#cb213-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb213-2"><a href="exploratory-data-analysis-eda.html#cb213-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">&#39;species&#39;</span>,<span class="st">&#39;culmen_length_mm&#39;</span>, <span class="st">&#39;culmen_depth_mm&#39;</span>, <span class="st">&#39;flipper_length_mm&#39;</span>, <span class="st">&#39;body_mass&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb213-3"><a href="exploratory-data-analysis-eda.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="fu">aes</span>(<span class="at">color =</span> species), <span class="at">axisLabels =</span> <span class="st">&#39;none&#39;</span>)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;GGally&#39;:
##   method from   
##   +.gg   ggplot2</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-105-1.png" width="672" /></p>
<p>When you want to assess something more specific you can use a point plot.
Point plots allow us to see how two numeric variables correlate with each other.
In this example we explore how bill length and flipper length might be correlated, within each species.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="exploratory-data-analysis-eda.html#cb216-1" aria-hidden="true" tabindex="-1"></a>plot_fixe <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb216-2"><a href="exploratory-data-analysis-eda.html#cb216-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> culmen_length_mm, <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span> </span>
<span id="cb216-3"><a href="exploratory-data-analysis-eda.html#cb216-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">group =</span> species), <span class="at">size =</span> <span class="fl">1.7</span>) <span class="sc">+</span></span>
<span id="cb216-4"><a href="exploratory-data-analysis-eda.html#cb216-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> species), <span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">formula =</span> <span class="st">&#39;y ~ x&#39;</span>) <span class="sc">+</span> <span class="co"># adding a line based on linear regression</span></span>
<span id="cb216-5"><a href="exploratory-data-analysis-eda.html#cb216-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb216-6"><a href="exploratory-data-analysis-eda.html#cb216-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Flipper Length (mm)&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Bill Length (mm)&#39;</span>,</span>
<span id="cb216-7"><a href="exploratory-data-analysis-eda.html#cb216-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&#39;Species&#39;</span>, <span class="at">shape =</span> <span class="st">&#39;Species&#39;</span>,</span>
<span id="cb216-8"><a href="exploratory-data-analysis-eda.html#cb216-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&#39;Correlation between Flipper Length and Bill Length&#39;</span>) <span class="sc">+</span></span>
<span id="cb216-9"><a href="exploratory-data-analysis-eda.html#cb216-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
</div>
<div id="multiplots" class="section level3 hasAnchor" number="4.5.8">
<h3><span class="header-section-number">4.5.8</span> Multiplots<a href="exploratory-data-analysis-eda.html#multiplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another cool thing we might want to do is add multiple plots to a final image.
We can do this using the function <code>multiplot</code> from the packages <code>Rmisc</code>.
Lets say we want to measure the mean of the deltas (“both delta_15_n_ooo” and “delta_13_c_ooo”), by species and sex.
And we want to see them, side by side.
To do so, we must create each plot separately, and assign it to a object.
Afterwards, we just need to call these objects inside the <code>multiplot</code> function.
Here’s how to do it:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="exploratory-data-analysis-eda.html#cb217-1" aria-hidden="true" tabindex="-1"></a>d15_plot <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb217-2"><a href="exploratory-data-analysis-eda.html#cb217-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(delta_15_n_ooo)) <span class="sc">%&gt;%</span> </span>
<span id="cb217-3"><a href="exploratory-data-analysis-eda.html#cb217-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb217-4"><a href="exploratory-data-analysis-eda.html#cb217-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delta_15 =</span> <span class="fu">mean</span>(delta_15_n_ooo)) <span class="sc">%&gt;%</span> </span>
<span id="cb217-5"><a href="exploratory-data-analysis-eda.html#cb217-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, delta_15, <span class="at">color =</span> sex)) <span class="sc">+</span></span>
<span id="cb217-6"><a href="exploratory-data-analysis-eda.html#cb217-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb217-7"><a href="exploratory-data-analysis-eda.html#cb217-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> sex), <span class="at">size =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;species&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="exploratory-data-analysis-eda.html#cb219-1" aria-hidden="true" tabindex="-1"></a>d13_plot <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> </span>
<span id="cb219-2"><a href="exploratory-data-analysis-eda.html#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(delta_13_c_ooo)) <span class="sc">%&gt;%</span> </span>
<span id="cb219-3"><a href="exploratory-data-analysis-eda.html#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">%&gt;%</span> </span>
<span id="cb219-4"><a href="exploratory-data-analysis-eda.html#cb219-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delta_13 =</span> <span class="fu">mean</span>(delta_13_c_ooo)) <span class="sc">%&gt;%</span> </span>
<span id="cb219-5"><a href="exploratory-data-analysis-eda.html#cb219-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, delta_13, <span class="at">color =</span> sex)) <span class="sc">+</span></span>
<span id="cb219-6"><a href="exploratory-data-analysis-eda.html#cb219-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb219-7"><a href="exploratory-data-analysis-eda.html#cb219-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> sex), <span class="at">size =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;species&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="exploratory-data-analysis-eda.html#cb221-1" aria-hidden="true" tabindex="-1"></a>Rmisc<span class="sc">::</span><span class="fu">multiplot</span>(d15_plot, d13_plot)</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="exploratory-data-analysis-eda.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb222-2"><a href="exploratory-data-analysis-eda.html#cb222-2" aria-hidden="true" tabindex="-1"></a>Rmisc<span class="sc">::</span><span class="fu">multiplot</span>(d15_plot, d13_plot, <span class="at">cols =</span> <span class="dv">2</span>)  <span class="co"># the cols parameter establishes the number of columns in the plot matrix</span></span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-107-2.png" width="672" /></p>
</div>
<div id="date-1" class="section level3 hasAnchor" number="4.5.9">
<h3><span class="header-section-number">4.5.9</span> Date<a href="exploratory-data-analysis-eda.html#date-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Plotting date is quite easy, and its quite useful when dealing with time-series analysis.
In this data, as you will see, data is not that relevant.
Below, I first build a general plot showing how many collections there were per date.
Since I found a pattern, showing that these collection took place between November and December in three separate years, I then build three blocks of data for each year, and split the plot to better show the number of data entries per date.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="exploratory-data-analysis-eda.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Original plot</span></span>
<span id="cb223-2"><a href="exploratory-data-analysis-eda.html#cb223-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb223-3"><a href="exploratory-data-analysis-eda.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date_egg)) <span class="sc">+</span></span>
<span id="cb223-4"><a href="exploratory-data-analysis-eda.html#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-108-1.png" width="672" /></p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="exploratory-data-analysis-eda.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformed plot</span></span>
<span id="cb224-2"><a href="exploratory-data-analysis-eda.html#cb224-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb224-3"><a href="exploratory-data-analysis-eda.html#cb224-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DateBlock =</span> <span class="fu">case_when</span>(  <span class="co"># creating a new column that identifies which year that data bellongs to</span></span>
<span id="cb224-4"><a href="exploratory-data-analysis-eda.html#cb224-4" aria-hidden="true" tabindex="-1"></a>    date_egg <span class="sc">&lt;</span> <span class="st">&#39;2008-01-01&#39;</span> <span class="sc">~</span> <span class="st">&#39;2007&#39;</span>,</span>
<span id="cb224-5"><a href="exploratory-data-analysis-eda.html#cb224-5" aria-hidden="true" tabindex="-1"></a>    date_egg <span class="sc">&gt;</span> <span class="st">&#39;2008-01-01&#39;</span> <span class="sc">&amp;</span> date_egg <span class="sc">&lt;</span> <span class="st">&#39;2009-01-01&#39;</span> <span class="sc">~</span> <span class="st">&#39;2008&#39;</span>,</span>
<span id="cb224-6"><a href="exploratory-data-analysis-eda.html#cb224-6" aria-hidden="true" tabindex="-1"></a>    date_egg <span class="sc">&gt;</span> <span class="st">&#39;2009-01-01&#39;</span>  <span class="sc">~</span> <span class="st">&#39;2009&#39;</span></span>
<span id="cb224-7"><a href="exploratory-data-analysis-eda.html#cb224-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb224-8"><a href="exploratory-data-analysis-eda.html#cb224-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date_egg)) <span class="sc">+</span></span>
<span id="cb224-9"><a href="exploratory-data-analysis-eda.html#cb224-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&#39;lightblue&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> </span>
<span id="cb224-10"><a href="exploratory-data-analysis-eda.html#cb224-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>DateBlock, <span class="at">scales =</span> <span class="st">&#39;free_x&#39;</span>) <span class="sc">+</span></span>
<span id="cb224-11"><a href="exploratory-data-analysis-eda.html#cb224-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-108-2.png" width="672" /></p>
</div>
<div id="ordering-factors" class="section level3 hasAnchor" number="4.5.10">
<h3><span class="header-section-number">4.5.10</span> Ordering factors<a href="exploratory-data-analysis-eda.html#ordering-factors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another useful function, is the function <code>fct_reorder()</code> which comes from the package <code>forcats</code>.
This function is particularly (although not exclusively) useful for plots.
As default, R organizes the levels in a factor by alphabetical order.
This function allows us to alter the order by which levels in a factor are presented, according to certain conditions we can define ourselves.
For instance if we plot the mean “delta_15_ooo” per species of penguin, we get the x-axis with (alphabetically defined) Adelie, Chinstrap and Gentoo penguins.
But lets say instead, we want to reorder the x-axis in a descending order according to mean delta_15 of each species.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="exploratory-data-analysis-eda.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Original plot</span></span>
<span id="cb225-2"><a href="exploratory-data-analysis-eda.html#cb225-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb225-3"><a href="exploratory-data-analysis-eda.html#cb225-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">as.factor</span>(species)) <span class="sc">%&gt;%</span>  <span class="co"># Turning species to factor</span></span>
<span id="cb225-4"><a href="exploratory-data-analysis-eda.html#cb225-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb225-5"><a href="exploratory-data-analysis-eda.html#cb225-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delta_15 =</span> <span class="fu">mean</span>(delta_15_n_ooo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb225-6"><a href="exploratory-data-analysis-eda.html#cb225-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, delta_15)) <span class="sc">+</span></span>
<span id="cb225-7"><a href="exploratory-data-analysis-eda.html#cb225-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&#39;bar&#39;</span>, <span class="at">width=</span>.<span class="dv">75</span>, <span class="at">fill =</span> <span class="st">&#39;tomato1&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span>  <span class="co"># plotting the mean</span></span>
<span id="cb225-8"><a href="exploratory-data-analysis-eda.html#cb225-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">10</span>, <span class="at">vjust =</span> <span class="fl">0.6</span>)) <span class="sc">+</span><span class="co"># just to show the x-axis text better</span></span>
<span id="cb225-9"><a href="exploratory-data-analysis-eda.html#cb225-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>))</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="exploratory-data-analysis-eda.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reordered plot</span></span>
<span id="cb226-2"><a href="exploratory-data-analysis-eda.html#cb226-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb226-3"><a href="exploratory-data-analysis-eda.html#cb226-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb226-4"><a href="exploratory-data-analysis-eda.html#cb226-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delta_15 =</span> <span class="fu">mean</span>(delta_15_n_ooo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb226-5"><a href="exploratory-data-analysis-eda.html#cb226-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_reorder</span>(species, delta_15, <span class="at">.desc =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span>  <span class="co"># organized the levels of species based on delta_15 (descending)</span></span>
<span id="cb226-6"><a href="exploratory-data-analysis-eda.html#cb226-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, delta_15)) <span class="sc">+</span></span>
<span id="cb226-7"><a href="exploratory-data-analysis-eda.html#cb226-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&#39;bar&#39;</span>, <span class="at">width=</span>.<span class="dv">75</span>, <span class="at">fill =</span> <span class="st">&#39;tomato1&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span>  <span class="co"># plotting the mean</span></span>
<span id="cb226-8"><a href="exploratory-data-analysis-eda.html#cb226-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">10</span>, <span class="at">vjust =</span> <span class="fl">0.6</span>)) <span class="sc">+</span> <span class="co"># just to show the x-axis text better</span></span>
<span id="cb226-9"><a href="exploratory-data-analysis-eda.html#cb226-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>))</span></code></pre></div>
<p><img src="using_r_data_files/figure-html/unnamed-chunk-109-2.png" width="672" /></p>
</div>
</div>
<div id="end-1" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> End<a href="exploratory-data-analysis-eda.html#end-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r---dealing-with-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="basic-statistical-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-Chapter3.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["using_r_data.pdf", "using_r_data.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
